3-way handshake (가상연결)

3-way handshake는 TCP의 기본적인 매커니즘 중 하나로,
TCP/IP 네트워크에서 안정적인 연결을 설정하기 위해 사용된다.

이 과정은 클라이언트와 서버간에 신뢰할 수 있는 연결을 시작하기 전에 상호간에 동의하는 과정이다.
3-way handshake는 세 단계로 구성되며, 각 단계에서는 특정한 플래그들이 사용된다.

> 3way handshake는 TCP의 연결 설정 과정의 일부로, "가상연결" 또는 "가상 회선"을 형성하는데 사용된다.
>
> > 이 용어는 물리적인 회선이 실제로 연결되는 것이 아니라, 소프트웨어적으로 연결 상태를 설정하고 유지하는 의미에서 사용된다.

결론적으로 3-way handshake는 TCP 네트워크 통신에서 "가상 연결"을 설정하는 데 중요한 역할을 한다.

이 과정은 물리적 연결이 아니라 소프트웨어적인 수준에서 이루어지며, TCP의 신뢰성 있는 통신을 가능하게 하는 기본 매커니즘이다.

---

1. SYN단계
   클라이언트 -> 서버 : 클라이언트는 서버에 연결을 시작하고자 하는 의도를 나타내는 SYN 패킷을 전송한다. 이 패킷에는 초기 시퀀스 번호가 포함되어 있다. 이 번호는 데이터 전송 중 패킷의 순서를 정하는데 사용된다.
   <br>
2. SYN-ACK (Synchronize-Acknowledgment)단계
   서버 -> 클라이언트:
   서버는 클라이언트의 SYN 패킷을 받고 연결 요청을 수락한다. 이를 위해 서버는 ACK(acknowledgment)와 SYN 플래그가 설정된 패킷을 클라이언트에게 보낸다.

3. ACK (Acknowledgment)단계
   클라이언트 -> 서버 : 마지막으로, 클라이언트는 서버의 SYN-ACK 패킷을 받고, 서버에 ACK패킷을 보내 연결을 확정짓는다. 이 ACK 패킷에는 서버의 시퀀스 번호에 1을 더한 값이 포함된다.

시퀀스 번호와 확인 응답

- 시퀀스 번호 : 각 TCP 패킷은 시퀀스 번호를 가진다. 이 번호는 데이터 순서를 정하고 데이터의 무결성을 보장하는 데 사용된다.

- 확인 응답 (ACK): 수신자는 데이터를 받았음을 확인하기 위해 ACK 패킷을 보낸다.

---

중요성

3-way handshake는 TCP 연결의 안정성과 데이터 무결성을 보장하는 핵심 요소. 이를 통해 양쪽이 데이터를 안전하게 전송할 준비가 되었음을 확인하고, 연결이 성공적으로 이루어졌는지 확인한다. 이 과정은 TCP가 신뢰성 있는 프로토콜로 작동하는 데 필수적인 부분이다.
